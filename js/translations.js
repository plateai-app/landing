const translations = {
  en: {
    "lishe-page-title": "Lishe by PlateAI - Nutrition Professionals Platform",
    "lishe-nav-home": "Home",
    "lishe-nav-manager": "Manager",
    "lishe-nav-planner": "Planner",
    "lishe-nav-faq": "FAQ",
    "lishe-nav-contact": "Contact",
    "lishe-nav-manager-full": "Lishe Manager",
    "lishe-nav-planner-full": "Lishe Planner",
    "lishe-btn-signin": "Sign in",
    "lishe-btn-book-demo": "Book a Demo",
    "lishe-btn-start-free": "Start Free",
    "lishe-btn-start-free-long": "Start for free",
    "lishe-btn-start-journey": "Start your journey",
    "lishe-btn-individual-start": "Individual? Start here",
    "lishe-btn-book-manager-demo": "Book a Manager Demo",
    "lishe-hero-badge": "Now Onboarding!",
    "lishe-hero-title-html": "Empowering<br><em>Nutrition</em><br>Professionals",
    "lishe-hero-desc": "Faster, more scalable, clinically-approved meal planning - built with foods your clients can actually find in Tanzania.",
    "lishe-hero-float-top-label": "Local availability",
    "lishe-hero-float-top-value": "What's available near you",
    "lishe-hero-float-bottom-label": "Expert reviewed",
    "lishe-hero-float-bottom-value": "Clinically-approved plans",
    "health-title": "PlateAI helps in managing",
    "condition-diabetes": "Diabetes",
    "condition-hypertension": "Hypertension",
    "condition-obesity": "Obesity",
    "condition-kidney": "Chronic Kidney Disease",
    "health-subtitle": "and prevent many more before they start",
    "lishe-seen-label": "As seen in",
    "lishe-manager-eyebrow": "For Nutrition Professionals",
    "lishe-manager-lead": "Serve more clients with speed, precision, and clinically-approved meal distribution. Verified professionals only.",
    "lishe-manager-how-title": "How Manager works",
    "lishe-manager-step-1-title": "Certified professional onboarding",
    "lishe-manager-step-1-desc": "Register, get verified, and unlock your client and earnings dashboard.",
    "lishe-manager-step-2-title": "Client data and risk capture",
    "lishe-manager-step-2-desc": "Collect anthropometrics, preferences, allergens, NCD and risk status - all in one intake form.",
    "lishe-manager-step-3-title": "Customized distribution engine",
    "lishe-manager-step-3-desc": "Generate targets, adapt for local food availability, and reuse or remix structures across clients.",
    "lishe-manager-step-4-title": "Plan approval and client handoff",
    "lishe-manager-step-4-desc": "Finalize the plan, share invite link, and transition paid clients into Lishe Planner.",
    "lishe-manager-why-title": "Why professionals choose Lishe",
    "lishe-manager-benefit-1-title": "Faster plan creation",
    "lishe-manager-benefit-1-desc": "Reusable distribution structures and templates mean you create once and scale across every client.",
    "lishe-manager-benefit-2-title": "Total clinical control",
    "lishe-manager-benefit-2-desc": "Create recipes matched to local food availability. Customization doesn't slow you down - everything is reusable.",
    "lishe-manager-benefit-3-title": "Automated follow-ups",
    "lishe-manager-benefit-3-desc": "Lishe checks in on your behalf via WhatsApp and SMS - meal reminders, progress logging, and status updates.",
    "lishe-manager-demo-support": "See client intake, distribution building, and delivery in 15 minutes.",
    "lishe-workflow-eyebrow": "The Lishe workflow",
    "lishe-workflow-title": "Built for how clinicians actually work",
    "lishe-workflow-desc": "No more re-entering data or creating plans from scratch. One system from intake to delivery.",
    "lishe-workflow-step-1-title": "Onboard a client",
    "lishe-workflow-step-1-desc": "Capture full intake in minutes - anthropometrics, conditions, allergens, food preferences, and location.",
    "lishe-workflow-step-2-title": "Customize the plans",
    "lishe-workflow-step-2-desc": "Build from clinically proven templates. No manual work - adapt by condition, preference, and local food availability.",
    "lishe-workflow-step-3-title": "Distribute with ease",
    "lishe-workflow-step-3-desc": "Share downloadable plans, send client invite links, and nudge via WhatsApp - all from one place.",
    "lishe-planner-eyebrow": "For Individuals",
    "lishe-planner-lead": "Simple daily plans, smart swaps, and WhatsApp reminders - no professional needed to get started.",
    "lishe-planner-step-1-title": "Set up your profile",
    "lishe-planner-step-1-desc": "Add anthropometrics, preferences, allergens, meal frequency, NCD status, and optional location.",
    "lishe-planner-step-2-title": "Receive personalized plans",
    "lishe-planner-step-2-desc": "Get hyper-personalized daily meal plans built around local, accessible ingredients.",
    "lishe-planner-step-3-title": "Swap what's available",
    "lishe-planner-step-3-desc": "Daily plans stay on target while you swap meals based on taste and what's in the market.",
    "lishe-cta-title-html": "If it's available near you,<br>it's in here.",
    "lishe-cta-sub": "Plans match what you can actually find and afford - no imported superfoods required.",
    "lishe-faq-eyebrow": "Got questions?",
    "lishe-faq-title": "Frequently asked",
    "lishe-faq-q1": "Who can use Lishe Manager?",
    "lishe-faq-a1": "Lishe Manager is for certified nutrition professionals only. Practitioners are verified before accessing client intake and meal planning tools.",
    "lishe-faq-q2": "How does Lishe handle clients with NCDs?",
    "lishe-faq-a2": "Clients with NCDs are routed through a clinical pathway and advised to consult a certified professional for clinically-approved plans.",
    "lishe-faq-q3": "Can professionals reuse plans and distributions?",
    "lishe-faq-a3": "Yes. You can save reusable distribution structures and master recipes, then customize them for new clients without starting from scratch.",
    "lishe-faq-q4": "How do meal swaps work?",
    "lishe-faq-a4": "Swaps preserve daily nutrition targets by staying within the same distribution structure - so your nutritional goals aren't compromised.",
    "lishe-faq-q5": "How do clients receive meal plans?",
    "lishe-faq-a5": "Clients access plans via the web app and receive reminders through WhatsApp. Mobile app delivery may be added in the future.",
    "lishe-faq-q6": "Is Lishe Planner available to anyone?",
    "lishe-faq-a6": "Yes. Any individual can start with Lishe Planner. Those with NCDs receive guidance to consult a professional for a clinically-safe plan.",
    "lishe-faq-q7": "How do I book a demo?",
    "lishe-faq-a7": "Click the \"Book a Demo\" button anywhere on this page to schedule a 15-minute walkthrough of Lishe Manager features.",
    "lishe-faq-q8": "Which regions is Lishe available in?",
    "lishe-faq-a8": "Lishe is currently focused on Tanzania, with food databases and plans built around locally available ingredients. Expansion to other East African markets is planned.",
    "lishe-footer-desc": "Empowering nutrition professionals and individuals across Tanzania with clinically-approved, locally-grounded meal planning.",
    "lishe-footer-product": "Product",
    "lishe-footer-legal": "Legal",
    "lishe-footer-company": "Company",
    "lishe-footer-contact": "Contact & Support",
    "lishe-footer-link-start-free": "Start free",
    "lishe-footer-link-privacy": "Privacy Policy",
    "lishe-footer-link-terms": "Terms of Use",
    "lishe-footer-location": "Dar es Salaam, Tanzania",
    "lishe-footer-copyright-html": "&copy; 2026 PlateAI. All rights reserved.",
    "callback-title": "Request a Callback",
    "callback-page-title": "Request a Callback - PlateAI",
    "callback-subtitle": "Our nutrition specialists will call you within 24 hours to discuss your personalized meal planning needs.",
    "callback-name": "Your Name",
    "callback-name-placeholder": "How should we call you?",
    "callback-phone": "Phone Number",
    "callback-phone-placeholder": "+255 XXX XXX XXX",
    "callback-interest": "I'm interested in",
    "callback-interest-placeholder": "Choose consultation type",
    "callback-interest-nutrition": "Nutrition Consultation",
    "callback-interest-meal": "Meal Planning Help",
    "callback-interest-health": "Health Condition Support",
    "callback-interest-demo": "Product Demo & Questions",
    "callback-interest-partnership": "Partnership Inquiry",
    "callback-interest-general": "General Information",
    "callback-time": "Preferred Call Time",
    "callback-time-any": "Any time is fine",
    "callback-time-morning": "Morning (9AM - 12PM)",
    "callback-time-afternoon": "Afternoon (12PM - 5PM)",
    "callback-time-evening": "Evening (5PM - 8PM)",
    "callback-message": "Additional Information (Optional)",
    "callback-message-placeholder": "Tell us about your specific needs, health goals, or any questions...",
    "callback-back": "Back to Home",
    "callback-submit": "Request Callback",
    "callback-immediate": "Need immediate help?",
    "callback-general-nutrition": "General & Nutrition:",
    "callback-partnerships": "Partnerships:",
    "footer-copyright-html": "&copy; 2026 PlateAI. All rights reserved."
  },
  sw: {
    "lishe-page-title": "Lishe by PlateAI - Jukwaa la Wataalamu wa Lishe",
    "lishe-nav-home": "Nyumbani",
    "lishe-nav-manager": "Manager",
    "lishe-nav-planner": "Planner",
    "lishe-nav-faq": "Maswali",
    "lishe-nav-contact": "Mawasiliano",
    "lishe-nav-manager-full": "Lishe Manager",
    "lishe-nav-planner-full": "Lishe Planner",
    "lishe-btn-signin": "Ingia",
    "lishe-btn-book-demo": "Miadi ya Demo",
    "lishe-btn-start-free": "Anza Bure",
    "lishe-btn-start-free-long": "Anza bila malipo",
    "lishe-btn-start-journey": "Anza safari yako",
    "lishe-btn-individual-start": "Ni mtu binafsi? Anzia hapa",
    "lishe-btn-book-manager-demo": "Weka demo ya Manager",
    "lishe-hero-badge": "Usajili Umefunguliwa!",
    "lishe-hero-title-html": "Tunawawezesha<br><em>Wataalamu</em><br>wa Lishe",
    "lishe-hero-desc": "Upangaji wa milo wa haraka, unaoweza kupanuka, na uliothibitishwa kitabibu - kwa kutumia vyakula ambavyo wateja wako wanaweza kupata Tanzania.",
    "lishe-hero-float-top-label": "Upatikanaji wa karibu",
    "lishe-hero-float-top-value": "Kilichopo karibu yako",
    "lishe-hero-float-bottom-label": "Imepitiwa na mtaalamu",
    "lishe-hero-float-bottom-value": "Mipango iliyoidhinishwa kitabibu",
    "health-title": "PlateAI inasaidia kudhibiti",
    "condition-diabetes": "Kisukari",
    "condition-hypertension": "Shinikizo la Damu",
    "condition-obesity": "Unene Uliopitiliza",
    "condition-kidney": "Ugonjwa wa Figo wa Muda Mrefu",
    "health-subtitle": "na kuzuia mengine mengi kabla hayajaanza",
    "lishe-seen-label": "Imeonekana katika",
    "lishe-manager-eyebrow": "Kwa wataalamu wa lishe",
    "lishe-manager-lead": "Hudumia wateja wengi zaidi kwa kasi, usahihi, na usambazaji wa milo uliothibitishwa kitabibu. Kwa wataalamu waliothibitishwa tu.",
    "lishe-manager-how-title": "Jinsi Manager inavyofanya kazi",
    "lishe-manager-step-1-title": "Usajili wa mtaalamu aliyethibitishwa",
    "lishe-manager-step-1-desc": "Jisajili, thibitishwa, na fungua dashibodi yako ya wateja na mapato.",
    "lishe-manager-step-2-title": "Ukusanyaji wa taarifa na vihatarishi vya mteja",
    "lishe-manager-step-2-desc": "Kusanya vipimo vya mwili, mapendeleo, mzio, hali za NCD na hatari katika fomu moja ya usajili.",
    "lishe-manager-step-3-title": "Mfumo wa usambazaji unaobinafsishwa",
    "lishe-manager-step-3-desc": "Tengeneza malengo, badilisha kulingana na upatikanaji wa vyakula vya hapa, na tumia au rekebisha miundo kwa wateja wengine.",
    "lishe-manager-step-4-title": "Uidhinishaji wa mpango na kukabidhi mteja",
    "lishe-manager-step-4-desc": "Kamilisha mpango, tuma kiungo cha mwaliko, na hamisha wateja wanaolipa kwenda Lishe Planner.",
    "lishe-manager-why-title": "Kwa nini wataalamu wanachagua Lishe",
    "lishe-manager-benefit-1-title": "Uundaji wa mpango kwa haraka",
    "lishe-manager-benefit-1-desc": "Miundo ya mgao na templeti zinazoweza kutumika tena hukuwezesha kuunda mara moja na kupanua kwa kila mteja.",
    "lishe-manager-benefit-2-title": "Udhibiti kamili wa kitabibu",
    "lishe-manager-benefit-2-desc": "Tengeneza mapishi yanayoendana na upatikanaji wa vyakula vya hapa. Ubadilishaji haupunguzi kasi - kila kitu kinaweza kutumika tena.",
    "lishe-manager-benefit-3-title": "Ufuatiliaji wa kiotomatiki",
    "lishe-manager-benefit-3-desc": "Lishe hufuatilia kwa niaba yako kupitia WhatsApp na SMS - vikumbusho vya milo, ufuatiliaji wa maendeleo, na taarifa za hali.",
    "lishe-manager-demo-support": "Tazama usajili wa mteja, uundaji wa mgao, na usambazaji ndani ya dakika 15.",
    "lishe-workflow-eyebrow": "Mtiririko wa kazi wa Lishe",
    "lishe-workflow-title": "Imejengwa kwa namna ambayo wataalamu wa kliniki hufanya kazi",
    "lishe-workflow-desc": "Hakuna tena kuingiza taarifa upya au kuunda mipango kutoka mwanzo. Mfumo mmoja kutoka usajili hadi usambazaji.",
    "lishe-workflow-step-1-title": "Muingize mteja",
    "lishe-workflow-step-1-desc": "Chukua taarifa kamili kwa dakika chache - vipimo vya mwili, hali, mzio, mapendeleo ya chakula, na eneo.",
    "lishe-workflow-step-2-title": "Binafsisha mipango",
    "lishe-workflow-step-2-desc": "Anza na templeti zilizothibitishwa kitabibu. Hakuna kazi ya mkono - badilisha kulingana na hali, mapendeleo, na upatikanaji wa vyakula vya hapa.",
    "lishe-workflow-step-3-title": "Sambaza kwa urahisi",
    "lishe-workflow-step-3-desc": "Shiriki mipango ya kupakua, tuma viungo vya mwaliko kwa wateja, na tuma vikumbusho kupitia WhatsApp - yote sehemu moja.",
    "lishe-planner-eyebrow": "Kwa watu binafsi",
    "lishe-planner-lead": "Mipango rahisi ya kila siku, ubadilishaji wa milo wa akili, na vikumbusho vya WhatsApp - huhitaji mtaalamu kuanza.",
    "lishe-planner-step-1-title": "Tengeneza wasifu wako",
    "lishe-planner-step-1-desc": "Weka vipimo vya mwili, mapendeleo, mzio, mara za kula, hali za NCD, na eneo ukitaka.",
    "lishe-planner-step-2-title": "Pokea mipango iliyobinafsishwa",
    "lishe-planner-step-2-desc": "Pata mipango ya kila siku iliyobinafsishwa sana kulingana na viungo vya hapa vinavyopatikana kwa urahisi.",
    "lishe-planner-step-3-title": "Badilisha kilichopo",
    "lishe-planner-step-3-desc": "Mipango ya kila siku hubaki ndani ya malengo hata unapobadilisha milo kulingana na ladha na kilichopo sokoni.",
    "lishe-cta-title-html": "Kama kinapatikana karibu yako,<br>kipo humu.",
    "lishe-cta-sub": "Mipango inaendana na kile unachoweza kupata na kumudu - hakuna superfood za kuagiza kutoka nje.",
    "lishe-faq-eyebrow": "Una maswali?",
    "lishe-faq-title": "Maswali yanayoulizwa mara kwa mara",
    "lishe-faq-q1": "Nani anaweza kutumia Lishe Manager?",
    "lishe-faq-a1": "Lishe Manager ni kwa wataalamu wa lishe waliothibitishwa pekee. Watoa huduma huthibitishwa kabla ya kupata zana za usajili wa wateja na upangaji wa milo.",
    "lishe-faq-q2": "Lishe hushughulikiaje wateja wenye NCD?",
    "lishe-faq-a2": "Wateja wenye NCD hupitishwa kwenye njia ya kitabibu na kushauriwa kumwona mtaalamu aliyethibitishwa kwa mipango salama kitabibu.",
    "lishe-faq-q3": "Je, wataalamu wanaweza kutumia tena mipango na mgao?",
    "lishe-faq-a3": "Ndiyo. Unaweza kuhifadhi miundo ya mgao na mapishi mama, kisha ubinafsishe kwa wateja wapya bila kuanza kutoka mwanzo.",
    "lishe-faq-q4": "Ubadilishanaji wa milo unafanyaje kazi?",
    "lishe-faq-a4": "Mabadilishano huhifadhi malengo ya lishe ya siku kwa kubaki ndani ya muundo uleule wa mgao, hivyo malengo yako ya lishe hayaathiriki.",
    "lishe-faq-q5": "Wateja hupokeaje mipango ya milo?",
    "lishe-faq-a5": "Wateja hupata mipango kupitia web app na hupokea vikumbusho kwa WhatsApp. Uwasilishaji kupitia mobile app unaweza kuongezwa baadaye.",
    "lishe-faq-q6": "Lishe Planner inapatikana kwa mtu yeyote?",
    "lishe-faq-a6": "Ndiyo. Mtu yeyote anaweza kuanza na Lishe Planner. Wenye NCD hupata maelekezo ya kumwona mtaalamu kwa mpango salama kitabibu.",
    "lishe-faq-q7": "Ninawezaje kuweka miadi ya demo?",
    "lishe-faq-a7": "Bofya kitufe cha \"Book a Demo\" popote kwenye ukurasa huu kupanga maelezo ya dakika 15 ya vipengele vya Lishe Manager.",
    "lishe-faq-q8": "Lishe inapatikana katika maeneo gani?",
    "lishe-faq-a8": "Kwa sasa Lishe inalenga Tanzania, ikiwa na hifadhidata ya vyakula na mipango iliyojengwa juu ya viungo vinavyopatikana hapa. Upanuzi kwenda masoko mengine ya Afrika Mashariki unapangwa.",
    "lishe-footer-desc": "Kuwawezesha wataalamu wa lishe na watu binafsi kote Tanzania kupitia upangaji wa milo uliothibitishwa kitabibu na unaozingatia mazingira ya hapa.",
    "lishe-footer-product": "Bidhaa",
    "lishe-footer-legal": "Sheria",
    "lishe-footer-company": "Kampuni",
    "lishe-footer-contact": "Mawasiliano na msaada",
    "lishe-footer-link-start-free": "Anza bure",
    "lishe-footer-link-privacy": "Sera ya Faragha",
    "lishe-footer-link-terms": "Masharti ya Matumizi",
    "lishe-footer-location": "Dar es Salaam, Tanzania",
    "lishe-footer-copyright-html": "&copy; 2026 PlateAI. Haki zote zimehifadhiwa.",
    "callback-title": "Omba Kupigiwa Simu",
    "callback-page-title": "Omba Kupigiwa Simu - PlateAI",
    "callback-subtitle": "Wataalamu wetu wa lishe watakupigia simu ndani ya masaa 24 kujadili mahitaji yako ya mipango ya mlo ya kibinafsi.",
    "callback-name": "Jina Lako",
    "callback-name-placeholder": "Tukuiteje?",
    "callback-phone": "Nambari ya Simu",
    "callback-phone-placeholder": "+255 XXX XXX XXX",
    "callback-interest": "Ninavutiwa na",
    "callback-interest-placeholder": "Chagua aina ya ushauri",
    "callback-interest-nutrition": "Ushauri wa Lishe",
    "callback-interest-meal": "Msaada wa Kupanga Mlo",
    "callback-interest-health": "Msaada wa Hali ya Afya",
    "callback-interest-demo": "Onyesho la Bidhaa na Maswali",
    "callback-interest-partnership": "Hoja ya Ushirikiano",
    "callback-interest-general": "Taarifa za Jumla",
    "callback-time": "Muda Unaopendelea Kupigiwa",
    "callback-time-any": "Wakati wowote ni sawa",
    "callback-time-morning": "Asubuhi (9AM - 12PM)",
    "callback-time-afternoon": "Mchana (12PM - 5PM)",
    "callback-time-evening": "Jioni (5PM - 8PM)",
    "callback-message": "Taarifa za Ziada (Si lazima)",
    "callback-message-placeholder": "Tuambie kuhusu mahitaji yako maalum, malengo ya afya, au maswali yoyote...",
    "callback-back": "Rudi Nyumbani",
    "callback-submit": "Omba Kupigiwa Simu",
    "callback-immediate": "Unahitaji msaada wa haraka?",
    "callback-general-nutrition": "Jumla na Lishe:",
    "callback-partnerships": "Ushirikiano:",
    "footer-copyright-html": "&copy; 2026 PlateAI. Haki zote zimehifadhiwa."
  }
};

class PlateAITranslator {
  constructor() {
    this.currentLanguage = localStorage.getItem("preferred_language") || "en";
    this.translations = translations;
    this._initialized = false;
    this.init();
  }

  init() {
    this.cacheOriginals();
    this.applyLanguage(this.currentLanguage);
    this.updateLanguageButtons();
  }

  cacheOriginals() {
    if (this._initialized) return;

    document.querySelectorAll("[data-translate], [data-translate-html]").forEach((el) => {
      const attr = el.getAttribute("data-translate-attr");

      if (attr) {
        if (el.dataset.originalAttrValue === undefined) {
          el.dataset.originalAttrValue = el.getAttribute(attr) || "";
        }
        return;
      }

      if (el.hasAttribute("data-translate-html")) {
        if (el.dataset.originalHtml === undefined) {
          el.dataset.originalHtml = el.innerHTML;
        }
        return;
      }

      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        if (el.dataset.originalPlaceholder === undefined) {
          el.dataset.originalPlaceholder = el.placeholder || "";
        }
        return;
      }

      if (el.dataset.originalText === undefined) {
        el.dataset.originalText = el.textContent || "";
      }
    });

    this._initialized = true;
  }

  setLanguage(lang, button) {
    this.currentLanguage = lang;
    localStorage.setItem("preferred_language", lang);
    this.applyLanguage(lang);

    if (button) {
      document.querySelectorAll(".lang-btn").forEach((btn) => btn.classList.remove("active"));
      button.classList.add("active");
    } else {
      this.updateLanguageButtons();
    }
  }

  applyLanguage(lang) {
    document.documentElement.setAttribute("lang", lang);
    this.restoreOriginals();

    if (lang === "en") {
      this.updateLanguageButtons();
      return;
    }

    const dict = this.translations[lang] || {};

    document.querySelectorAll("[data-translate], [data-translate-html]").forEach((el) => {
      const key = el.getAttribute("data-translate-html") || el.getAttribute("data-translate");
      const value = dict[key];
      if (!value) return;

      const attr = el.getAttribute("data-translate-attr");
      if (attr) {
        el.setAttribute(attr, value);
        return;
      }

      if (el.hasAttribute("data-translate-html")) {
        el.innerHTML = value;
        return;
      }

      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        el.placeholder = value;
        return;
      }

      el.textContent = value;
    });

    this.updateLanguageButtons();
  }

  restoreOriginals() {
    document.querySelectorAll("[data-translate], [data-translate-html]").forEach((el) => {
      const attr = el.getAttribute("data-translate-attr");

      if (attr && el.dataset.originalAttrValue !== undefined) {
        el.setAttribute(attr, el.dataset.originalAttrValue);
        return;
      }

      if (el.hasAttribute("data-translate-html")) {
        if (el.dataset.originalHtml !== undefined) {
          el.innerHTML = el.dataset.originalHtml;
        }
        return;
      }

      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        if (el.dataset.originalPlaceholder !== undefined) {
          el.placeholder = el.dataset.originalPlaceholder;
        }
        return;
      }

      if (el.dataset.originalText !== undefined) {
        el.textContent = el.dataset.originalText;
      }
    });
  }

  updateLanguageButtons() {
    document.querySelectorAll(".lang-btn").forEach((btn) => {
      btn.classList.remove("active");
      const lang = ((btn.dataset.lang || btn.textContent || "").trim().toLowerCase());
      if (lang === this.currentLanguage) {
        btn.classList.add("active");
      }
    });
  }

  translate(key) {
    return (this.translations[this.currentLanguage] || {})[key] || key;
  }
}

document.addEventListener("DOMContentLoaded", () => {
  window.plateAITranslator = new PlateAITranslator();
});

window.setLanguage = function setLanguage(lang, button) {
  if (window.plateAITranslator) {
    window.plateAITranslator.setLanguage(lang, button);
  }
};

if (typeof module !== "undefined" && module.exports) {
  module.exports = { translations, PlateAITranslator };
}
